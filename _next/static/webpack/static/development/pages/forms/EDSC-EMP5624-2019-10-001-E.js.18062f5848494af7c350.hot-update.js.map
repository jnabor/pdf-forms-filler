{"version":3,"file":"static/webpack/static\\development\\pages\\forms\\EDSC-EMP5624-2019-10-001-E.js.18062f5848494af7c350.hot-update.js","sources":["webpack:///./context/app-context.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\n\r\nconst apiUrl =\r\n  'https://0drmo8s2x3.execute-api.us-west-2.amazonaws.com/dev/pdfform'\r\n\r\nexport interface AppContextProviderProps {\r\n  children: any\r\n}\r\n\r\nexport interface PersonInfo {\r\n  firstName: string\r\n  fiddleName: string\r\n  lastName: string\r\n  phone: string\r\n  extension: string\r\n  email: string\r\n  oralEnglish: boolean\r\n  oralFrench: boolean\r\n  writtenEnglish: boolean\r\n  writtenFrench: boolean\r\n}\r\n\r\nexport interface Record {\r\n  organization: string\r\n  partner: PersonInfo\r\n  alternative: PersonInfo\r\n}\r\n\r\ninterface Records extends Array<Record> {}\r\nexport interface AppContextProviderState {\r\n  postFillForm(data: any, callback: (res: any) => void): void\r\n}\r\n\r\nconst postFillForm = (data: any, callback: (res: any) => void) => {\r\n  console.log(data)\r\n  console.log('posting to API...')\r\n\r\n  const xhr = new XMLHttpRequest()\r\n  xhr.open('POST', apiUrl)\r\n  xhr.onreadystatechange = (event: any) => {\r\n    if (xhr.readyState === XMLHttpRequest.DONE) {\r\n      callback(event.target)\r\n    }\r\n  }\r\n  xhr.setRequestHeader('Content-Type', 'application/json')\r\n  const msg = JSON.stringify(data)\r\n  xhr.send(msg)\r\n}\r\n\r\nconst initState = {\r\n  postFillForm: postFillForm\r\n}\r\n\r\nexport const AppContext = React.createContext<AppContextProviderState>(\r\n  initState\r\n)\r\n\r\nconst AppContextProvider: React.SFC<AppContextProviderProps> = ({\r\n  children\r\n}) => {\r\n  const [state, setState] = useState({ ...initState })\r\n\r\n  return <AppContext.Provider value={initState}>{children}</AppContext.Provider>\r\n}\r\n\r\nexport default AppContextProvider\r\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAEA;AACA;AA8BA;AACA;AACA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AAAA;AACA;AAAA;AACA;AACA;AACA;AACA;AADA;AAIA;AACA;AAGA;AAEA;AACA;AADA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AACA;;;;A","sourceRoot":""}